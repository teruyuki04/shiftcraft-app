
# Shiftcraft 成功確率アプリ（最小セット）

このフォルダには以下のファイルが入っています：
- `shiftcraft_success_app.py` … Streamlit アプリ本体（学習→確率校正→予測）
- `sample_companies.csv` … サンプルデータ（Octopus / Udacity / Airbnb）

## 使い方（ノーコード寄り）
1. 上の2ファイルをダウンロードしてください。
2. Streamlit Community Cloud で新規アプリを作り、リポジトリにこの2ファイルを置きます。
3. アプリ起動後、**CSVをアップロード**するか「サンプルデータを読み込む」を押します。
4. 学習が終わると、画面下部のフォームで **H/I/S** を入力すると成功確率が出ます。

## データ形式
CSVに最低限必要な列：
- `company` … 企業名や案件名
- `H` … 課題仮説スコア（0–30）
- `I` … 初期実装スコア（0–5）
- `S` … スケール化スコア（0–5）
- `A` … 財務成果スコア（0–5）
- `B` … 新市場創出スコア（0–5）

> ラベルはアプリが自動で作ります（`label_success = 1 if A+B>=8 else 0`）。

## 注意点
- 最初は事例が少ないため、**確率は不安定**です。案件を追加すると安定します。
- 本アプリは**教育・プロトタイプ**目的です。運用では時系列CVや外部検証が望ましいです。
- 予測の“当たり”は **確率校正（Isotonic）**で調整しています。

## よくある質問
- Q: H/I/S が途中で未確定でも使える？  
  A: 使えます。Hだけで学習/予測したい場合は、I/Sに0を入れるか、列は入れておいて0で埋めてください。

- Q: しきい値は？  
  A: 画面では確率のみ表示しています。運用では `p>=0.75=Go, 0.55<=p<0.75=Revise, p<0.55=Stop` のような帯域ルールを推奨します。

## 拡張アイデア
- 交互作用（h×s）や業界ダミーを追加
- データ件数が増えたら学習・評価の分割/校正を本格化
- 画面に SHAP での「どの+1点が効くか」を追加
